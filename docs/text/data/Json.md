---
slug: Json
title: Json
---

JSONは、JavaScript Object Notationの略で、軽量なデータ交換フォーマットです。人間にとっても読みやすく、機械にとっても解析しやすい形式が特徴で、Web APIのデータ送受信など、様々な場面で利用されています。

### JSONの基本的な書式ルール

1.  **オブジェクトは中括弧 `{}` で囲む**

      * キーと値のペアをセットで記述します。
      * 例：`{ "key": "value" }`

2.  **キーはダブルクォーテーション `""` で囲む**

      * キーは必ず文字列でなければなりません。
      * 例：`"name"`

3.  **値は以下のいずれかの型をとる**

      * **文字列 (string)**：ダブルクォーテーションで囲みます。`"value"`
      * **数値 (number)**：整数または浮動小数点数。`123`, `3.14`
      * **ブーリアン (boolean)**：`true` または `false`
      * **配列 (array)**：角括弧 `[]` で囲み、カンマ `,` で要素を区切ります。`[1, 2, 3]`
      * **オブジェクト (object)**：中括弧 `{}` で囲みます。`{ "key": "value" }`
      * **null**：値が存在しないことを示します。`null`

4.  **キーと値はコロン `:` で区切る**

      * 例：`"name": "山田太郎"`

5.  **複数のキーと値のペアはカンマ `,` で区切る**

      * 最後のペアの後にはカンマを付けません。
      * 例：`{ "name": "山田太郎", "age": 30 }`

### 具体的な書き方の例

#### 1\. 単純なオブジェクト

```json
{
  "name": "山田 太郎",
  "age": 30,
  "isStudent": false
}
```

#### 2\. 配列を含むオブジェクト

```json
{
  "bookTitle": "JSON入門",
  "author": "JSON太郎",
  "tags": ["プログラミング", "Web開発", "データフォーマット"]
}
```

#### 3\. オブジェクトの配列

```json
[
  {
    "id": 1,
    "name": "商品A",
    "price": 1500
  },
  {
    "id": 2,
    "name": "商品B",
    "price": 2500
  }
]
```

### 注意点

  * **コメントは使えない**：JSONの仕様ではコメントは認められていません。
  * **シングルクォーテーションは使えない**：キーも値も必ずダブルクォーテーションで囲みます。
  * **末尾のカンマに注意**：配列やオブジェクトの最後の要素の後にカンマを付けると、構文エラーになります。

JSONは非常にシンプルなルールで構成されているため、初心者でも比較的簡単に習得できます。これらの基本的なルールを押さえておけば、JSONデータを読み書きできるようになるでしょう。

## EBNFによる表記例

```pumld
@startebnf
json  = value ;
value = array | object | NULL | TRUE | FALSE | NUMBER | STRING;
array = "[", [ value, { ",", value } ], "]" ;
object = "{", [ member, { ",", member } ], "}" ;
NULL  = "n", "u", "l", "l" ;
TRUE  = "t", "r", "u", "e" ;
FALSE = "f", "a", "l", "s", "e" ;
NUMBER = [ "-" ], INT, [ FRAC ], [ EXP ] ;
STRING = '"', {CHARACTER}, '"' ;
member = STRING, ":", STRING ;
INT = "0" | DIGIT1-9 , { DIGIT } ;
FRAC = "." , DIGIT , { DIGIT } ;
EXP = ( "e" | "E" ) , [ "+" | "-" ] , DIGIT , { DIGIT } ;
CHARACTER = ?%x20-21? | ?%x23-5B? | ?%x5D-10FFFF? | ( "\", ('"' | "\" | "/" | "b" | "f" | "n" | "r" | "t" | "u", HEX, HEX, HEX, HEX) ) ;
DIGIT1-9 = "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;
DIGIT = "0" | DIGIT1-9 ;
HEX = digit | "A" | "B" | "C" | "D" | "E" | "F" ;
@endebnf
```

### まとめ

データ交換には、**JSON**のような標準的なテキスト形式が適しています。JSONは、どのシステムでも広くサポートされており、特別な処理なしで簡単にデータをやり取りできます。

一方、JSONBはデータベース内部でのみ利用する形式であり、**データ交換には向いていません**。外部とやり取りする際には、JSONBをJSONに変換し、JSONとして送信するのがベストプラクティスです。
