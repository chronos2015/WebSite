---
slug: LLM-1
title: LLMについて(1)
---

## 💻 【PCでAIを飼う！】大規模言語モデル（LLM）を「Ollama」で動かして仕組みを体感しよう！

### イントロダクション：AIの夜明けと、私たちの新たな悩み 🌅

#### 【AIの夜明け：突然、コンピュータが人間と話始めた】

数年前まで、コンピュータが小説を書いたり、複雑な質問に答えたりするのはSFの世界でした。それが今、まるで人間のように自然な文章を生成するAIが、私たちの日常に一気に入ってきました。私たちはこの驚くべき技術を「**大規模言語モデル（LLM）**」と呼んでいます。

これは、単なる賢いプログラムではなく、人類の知識をデジタル化した「AIの脳」です。

{/* truncate */}

#### 【便利さの裏側にある「小さな不安」😥】

特に近年、私たちは**特定の国家がデータの収集や利用を厳しく統制する**事例を目の当たりにしてきました。情報セキュリティの専門家だけでなく、一般のユーザーまでもが、**「入力した機密情報や個人の思考が、意図しない形で国家や第三者に利用されてしまうのではないか」**という根源的な不安を抱き始めました。

この**「データ主権」**や**「情報統制」**に対する懸念の高まりこそが、「便利なクラウドAIに、どこまで大切なデータを預けていいのか？」という、現代の最も大きな課題を生み出した背景です。

AIが非常に便利になる一方で、新たな懸念も生まれています。

  * **データセキュリティ:** 「このデータ、どこに送られているんだろう？」「社外秘の企画書を入力しても大丈夫かな？」
  * **コストの懸念:** 「使いすぎると、高額な利用料がかかるのでは？」

AIの利便性が高まるほど、\*\*「データの安全」**と**「コストの懸念」\*\*という、誰もが抱える新たな悩みも生まれてきました。

#### 【悩みを解決！AIを「自分の金庫」で動かす技術 🔐】

これらの悩みを一掃するために登場したのが、「**ローカルで動く大規模言語モデル**」です。

これは、インターネット上のサーバーではなく、**あなたの手元のノートPCだけでAIを動かす**という画期的なアプローチです。データはPCから外に出ず、ランニングコストもかかりません。

**本記事のテーマ**は、この究極のプライベートAI環境を誰でも簡単に構築できるツール「**Ollama（オラマ）**」を使って、**AIがあなたのPC上でどのように動くのか**を体感する手順を解説することです。さあ、AI技術の「裏側」を自分の手で体験してみましょう！

-----

### LLMの基本を知る：AIはどうやって言葉を操るのか？🤔

環境構築の前に、少しだけLLMの基本知識を押さえておきましょう。

#### LLMは「賢い作文マシーン」ではない

大規模言語モデル（LLM）は、膨大な量のテキストデータ（インターネット上の文章、書籍など）を学習した「AIの脳」です。

しかし、その動作原理は、人間のように完璧な文章構造を最初から計画しているわけではありません。

**LLMの仕組みの核心は、** **「次にくる可能性が最も高い単語」をひたすら予測し続けること**、ただそれだけです。

#### 重要なキーワード：トークンと確率予測

| 用語 | 意味 | イメージ |
| :--- | :--- | :--- |
| **トークン** | LLMが認識・処理する最小単位。（単語、ひらがな数文字、記号など） | 「私は/昨日/公園/に行きました」のように、文章を細かく区切ったもの。 |
| **確率予測** | 次に続くトークンを、過去の学習データに基づいて計算し、最も確率の高いものを出力する作業。 | 「私は今日、おにぎりを**食べ**...」と入力すると、学習データに基づき次に「た」「ました」「よう」の確率を計算します。 |

LLMは、この「確率予測」を高速で繰り返すことで、あたかも人間が書いたような自然な文章を生成しているのです。

-----

### 3\. Ollamaとは？ローカルLLMを動かすための「土台」🏗️

Ollamaは、ローカルLLMを動かしたいと思った全ての人にとって、最も簡単で強力なツールです。

#### Ollamaの特徴：LLMの「Docker」

Ollamaは、複雑な環境設定や技術的な知識を最小限に抑え、**オープンソースのLLMをダウンロードし、すぐに実行できるプラットフォーム**を提供します。

1.  **インストールが簡単:** Windows、Mac、Linuxに対応し、インストーラーをダウンロードしてクリックするだけで土台が完成します。
2.  **シンプルなコマンド:** モデルのダウンロードと実行が、`ollama run [モデル名]`というコマンド一つで済みます。
3.  **API提供:** 開発者が他のアプリと連携させるためのAPI（プログラムでLLMを呼び出すための仕組み）も自動で提供されます。
4.  **多様なモデルに対応:** Metaの**Llama**、Googleの**Gemma**、**Mistral**など、高性能なオープンソースモデルが多数利用可能です。

#### ローカル実行の決定的なメリット 🛡️

| メリット | 説明 |
| :--- | :--- |
| **プライバシーとセキュリティ** | \*\*入力データは外部に送信されません。\*\*社内の機密情報や個人の思考を安心して入力できます。 |
| **ランニングコスト** | \*\*無料です。\*\*初期のPC投資を除けば、利用量に応じた追加費用は一切かかりません。 |
| **速度と安定性** | インターネット接続の速度に依存しないため、**ネットワーク遅延がありません**。 |

-----

### 4\. 【重要】快適に動かすためのPCスペックの目安 🚀

ローカルLLMを動かすために「ゲーミングPCが必要なの？」と心配されるかもしれませんが、モデルを選べば普通のノートPCでも動かせます。重要なのは、モデルサイズとPCスペックの関係を知ることです。

#### 最重要パーツは「メモリ」と「GPU（VRAM）」

LLMを動かすには、モデルのデータをPCのメモリ（作業スペース）に載せる必要があります。この作業スペースが\*\*メインメモリ（RAM）**と**GPUメモリ（VRAM）\*\*です。

| 目的レベル | モデルクラスの目安 | メインメモリ (RAM) | GPUメモリ (VRAM) | 実行速度の目安 |
| :--- | :--- | :--- | :--- | :--- |
| **お試し** | 3B〜7Bクラス（軽量） | **8GB**（最低ライン） | **GPUなし**（CPU動作） | 応答に時間がかかる（数十秒） |
| **推奨** | 7B〜13Bクラス（中量） | **16GB 以上** | **8GB 以上**（あると格段に速い） | 実用的な速度（数秒で応答） |
| **本格派** | 30Bクラス以上（高性能） | **32GB 以上** | **16GB 以上**（推奨） | 非常に高速な応答 |

💡 **知識のポイント：量子化**

最近のLLMは、性能を大きく落とさずにファイルサイズと必要メモリを大幅に削減する「**量子化**」という技術が施されています。この技術のおかげで、以前よりも低いスペックでローカルLLMを実行できるようになりました。

-----

### 5\. 【実践】Ollama環境構築ステップ・バイ・ステップ 🛠️

さあ、いよいよ実践です。あなたのPCにAIを迎え入れましょう！

#### ステップ 5-1: Ollamaのインストール

[インストール](/docs/Ollama/Install)

#### ステップ 5-2: ターミナルでAIを呼び出す

インストールが完了したら、PCの「ターミナル」（Windowsの場合は「コマンドプロンプト」または「PowerShell」）を起動してください。
メモ：Ollamaを起動できるようですね。

ここでは、軽量で高性能なモデルとして世界的に評価の高い「**Mistral**」を実行してみましょう。

1.  以下のコマンドをターミナルに入力し、Enterを押します。

    ```bash
    ollama run mistral
    ```

2.  **自動でダウンロード開始:** 初めてこのコマンドを実行する場合、Ollamaが自動的にMistralモデルを探し、あなたのPCにダウンロードします（ファイルサイズは数GB程度です）。

3.  **チャットモード開始:** ダウンロードが完了すると、すぐにプロンプト（入力待ちの状態）に切り替わります。これで準備完了です！

#### ステップ 5-3: AIとの対話を体感する 🗣️

チャットモードになったら、早速質問をしてみましょう。

  * **質問例:** `ollamaについて、この記事を読んでいる初心者に、次のステップとして何がおすすめか教えてください。`
  * **【体感ポイント】**
      * 質問を入力した後、回答が返ってくるまでの速度を体感してください。これがあなたのPCの性能です。
      * PCのファンが少し強く回り出したら、あなたのPCがAIの計算を頑張っている証拠です！

対話を終了したい場合は、「`/bye`」と入力するか、「`Ctrl + D`」を押してください。

-----

### 6\. まとめと次のステップ ✨

| 項目 | 内容 |
| :--- | :--- |
| **Ollamaが提供するもの** | **セキュリティ**と**低コスト**という、クラウドAIの弱点を克服する新たなAIの活用法。 |
| **今回の体験** | わずか数ステップで、あなたのPCに高性能なAIをインストールし、その応答速度を通じて「**AIが自分のPCのリソースを使って動いている**」という感覚を掴んでいただけたはずです。 |

#### 次のステップへ！

1.  **他のモデルを試す:**
      * `ollama run llama3` や `ollama run gemma` など、コマンドを変えるだけで、異なるAIモデルの性能や個性（文章のスタイルなど）を比較できます。
2.  **GUI (ブラウザ画面) を導入する:**
      * ターミナルでの操作に慣れたら、**Open WebUI**など、Ollamaと連携してChatGPTのようなブラウザ画面でチャットできるツールを導入すると、さらに便利になります。
3.  **RAG（検索拡張）に挑戦:**
      * 自分の持っているPDFや社内資料をAIに読み込ませて、資料に基づいた回答をさせる「RAG」という技術に挑戦してみましょう。

AI技術は日進月歩ですが、ローカルLLMは今後も**プライベートなAI活用**の主役であり続けるでしょう。ぜひ、このOllama環境をベースに、自分だけのAIライフを楽しんでください！


## AIモデルってなんでしょうか？

あなたが今ダウンロードしている「AIモデル」とは、大規模言語モデル（LLM）における**「賢さの源」**であり、**「脳みそ」**のようなものです。

最もシンプルな言葉で言えば、**「特定のタスクを実行するために学習と訓練が完了したプログラムのデータ一式」**のことです。

---

## AIモデルの正体と役割 🧠

OllamaでダウンロードしているAIモデル（LLM）は、主に以下の2つの要素で成り立っています。

### 1. 知識のデータベース（パラメータ）

モデルの本体は、数億から数千億の「**パラメータ**」と呼ばれる数値の集まりです。

* **イメージ:** これは、AIが世界中のウェブサイト、書籍、コードなど、大量のデータから学習した**知識、文法、論理、パターン**を数値として記憶した巨大なデータベースです。
* **役割:** 人間の脳におけるニューロン（神経細胞）の結合の強さに例えられます。このパラメータの数が多ければ多いほど、モデルはより**「賢く」**、複雑な質問に答えたり、自然な文章を生成したりできます。

### 2. 推論のロジック（アルゴリズム）

モデルは、このパラメータを利用して、あなたが入力した質問（プロンプト）に対して「次にくるべき言葉」を予測します。

* **役割:** あなたが「こんにちは、今日**の**」と入力すると、モデルはパラメータを使って「天気」や「気分」といった、次に続く可能性が高い単語の確率を計算し、最も適切なものを選んで出力します。
* この**「確率予測」**の連続によって、長い文章やコードが生成されます。

### なぜ「モデルのダウンロード」が必要なのか？

クラウドサービス（ChatGPTなど）を利用する場合、モデルはサービス提供者側の巨大なサーバーにあります。

しかし、Ollamaで**ローカル**に実行する場合、その巨大な**「知識のデータベース」（モデルのパラメータ）**をあなたのPCのストレージ（SSD/HDD）にコピーし、メモリ（RAM/VRAM）に展開する必要があります。これが、あなたが現在行っているダウンロード作業です。

あなたがダウンロードしているのは、単なるソフトウェアではなく、**AIの頭脳となる巨大な知識データそのもの**なのです。

## どんな用途向けのAIモデルがあるのでしょうか？

AIモデルは、それぞれ特定の知識や学習データに特化して訓練されているため、用途に応じて様々な種類があります。

あなたが今OllamaでダウンロードしているようなLLM（大規模言語モデル）の主な用途別モデル分類と特徴を解説します。

---

## 1. 汎用モデル（General-Purpose Models）🤖

最も一般的で、幅広いタスクに対応できる万能型のモデルです。初めてローカルLLMを試す人に最適です。

| モデル例 | 特徴と用途 |
| :--- | :--- |
| **Mistral** | **非常にバランスが良いモデル**。軽量（7B, 8Bなど）でありながら高い推論能力を持ち、チャット、要約、ブレインストーミングなど、日常的な多くのタスクで高性能を発揮します。 |
| **Llama (Llama 2, Llama 3)** | Meta社が開発したモデルで、オープンソースLLMの**定番**。長文の理解力や知識量が豊富で、汎用的な対話や文章生成に優れています。 |
| **Gemma** | Googleが開発したモデル。特に**倫理的な応答や安全性の担保**に重点を置いており、汎用的な質問応答や情報検索に適しています。 |

## 2. 専門分野特化モデル（Specialized Models）🧑‍💻

特定の分野の知識やスキルを集中的に学習しており、その分野では汎用モデルより高い精度を発揮します。

### a. コーディング特化モデル

プログラミングのコード生成、デバッグ、コードの解説などに特化したモデルです。

| モデル例 | 特徴と用途 |
| :--- | :--- |
| **Code Llama** | Llamaをベースに、プログラミング言語の大量のコードで再学習されたモデル。**コードの補完、バグの特定、新しい機能のコード生成**など、開発支援に特化しています。 |
| **DeepSeek-Coder** | 推論能力とコード生成のバランスが取れたモデル。様々なプログラミング言語に対応し、複雑なロジックを必要とするタスクに強いです。 |

### b. 日本語特化モデル

英語圏のモデルをベースに、日本語のテキストで追加学習を行い、**日本語での自然さ、正確さ、文化的な理解度**を高めたモデルです。

| モデル例 | 特徴と用途 |
| :--- | :--- |
| **ELYZA-Llama** | 日本の企業がLlamaをベースに日本語チューニングしたもの。**日本語でのビジネス文書作成、会話、要約**などで、海外のモデルよりも違和感のない応答が期待できます。 |
| **Qwen** | 中国アリババ社が開発した多言語モデルですが、高い推論能力と**強力な日本語性能**を持ち、汎用的なタスクで活用されます。 |

## 3. マルチモーダルモデル（Multimodal Models）🖼️

これはテキストだけでなく、**画像や音声などの異なるデータ形式（モーダル）**を扱えるように設計されたモデルです。

| モデル例 | 特徴と用途 |
| :--- | :--- |
| **LLaVA** | 画像と言葉を同時に扱うモデル。**画像を入力として与える**と、その画像の内容を認識し、「この画像は何ですか？」「この画像について詳しく説明して」といった質問に答えてくれます。 |
| **Moondream** | 軽量で高速な画像認識モデル。特に画像からキャプション（短い説明文）を生成するタスクに優れています。 |

---

### モデル選びのポイント

Ollamaでは、これらのモデルを簡単に切り替えて試すことができます。

1.  **まずは「Mistral」や「Llama 3」などの汎用モデル**で、ローカルLLMの基本的な応答速度や性能を体感するのがおすすめです。
2.  その次に、特定の用途（例：プログラミングの効率化）が見えてきたら、**Code Llama**などの特化モデルに挑戦してみると良いでしょう。

## MistralとGemma3:4bを比較すると？

MistralとGemma 3:4bを比較すると、どちらも**ローカル環境での高速な実行**を目的とした軽量高性能モデルですが、それぞれに異なる背景と強みがあります。

| 項目 | Mistral 7B | Gemma 3:4b |
| :--- | :--- | :--- |
| **開発元** | Mistral AI（フランスのスタートアップ） | Google |
| **パラメータ数** | 70億（7B） | 40億（4B） |
| **サイズ** | やや大きい | より小型・軽量 |
| **性能** | **バランスの取れた高性能**。特に英語でのコード生成や推論能力が高い評価を受けています。 | **小型ながら非常に高性能**。特に多言語（日本語含む）と、画像認識（マルチモーダル）の機能が強化されています。 |
| **ローカル動作** | 非常に高速。Ollamaの定番モデルの一つ。 | **さらに軽量**。リソースが限られた環境での動作に優れています。 |
| **特徴** | **オープンソースコミュニティ**での採用例が多く、派生モデルも豊富です。 | **Googleの技術**を継承しており、多言語コーパスや長文コンテキスト処理が優れています。 |

---

## 主な違いと選択のポイント

### 1. パラメータの規模と速度

* **Mistral 7B (70億):** Gemma 3:4bよりも**パラメータ数が多く**、この差は一般的に推論の深さや質に反映されます。あなたの環境でGPUリソースに余裕がある場合、Mistralの方がわずかに高品質な回答を出す可能性があります。
* **Gemma 3:4b (40億):** より小さく、**リソース消費が少ない**ため、MayaのレンダリングなどでGPUが逼迫している状況では、安定して高速動作しやすいというメリットがあります。

### 2. 多言語性能とマルチモーダル

* **Gemma 3** はGoogleの強力な多言語データセットと最新のトークナイザーで訓練されており、特に**日本語を含む非英語圏の言語**での精度向上が図られています。
* さらに、Gemma 3は4B以上のモデルで**マルチモーダル（画像入力）**に対応している点が大きな特徴です（Ollamaでの利用には追加設定が必要な場合があります）。

### 3. どちらを選ぶべきか？

| 目的 | 推奨モデル | 理由 |
| :--- | :--- | :--- |
| **汎用的な性能を重視** | **Mistral 7B** | パラメータが多く、幅広いタスクで安定した高性能が期待できます。 |
| **リソース消費を抑えたい** | **Gemma 3:4b** | より軽量で、PCに負荷がかかる作業と並行して動かしやすいです。 |
| **日本語や長文処理** | **Gemma 3:4b** | 多言語対応と長文コンテキスト処理に強みがあります。 |

あなたのPCがデュアルGPU構成でリソースに余裕があるため、**両方のモデルをダウンロードして、プロジェクト管理のタスクで比較してみる**のが最適です。Ollamaでは簡単にモデルを切り替えられます。

## Ollamaは一度ダウンロードしたモデルは削除できないものかな？

ご安心ください。Ollamaで一度ダウンロードしたモデルは、**簡単に削除することができます**。

使わなくなったモデルを削除してディスク容量（SSD/HDDの容量）を空けるのは、ローカルLLM運用において非常に重要な管理作業です。

### モデルを削除するコマンド

Ollamaはシンプルなコマンドラインインターフェース（CLI）で管理できます。

1.  **インストールされているモデルの一覧表示**
    まず、削除したいモデルの正確な名前を確認します。

    ```bash
    ollama list
    ```

    （例: `gemma3:4b` や `codellama:7b-instruct` などが表示されます）

2.  **特定のモデルを削除**
    `ollama rm` (remove の略) コマンドと、削除したいモデル名を組み合わせて実行します。

    ```bash
    ollama rm [モデル名:タグ]
    ```

    **【例】**

      * `gemma3:4b` を削除する場合:
        ```bash
        ollama rm gemma3:4b
        ```
      * `mistral`（latestタグ）を削除する場合:
        ```bash
        ollama rm mistral
        ```

このコマンドを実行することで、そのモデルに関連するファイル（数GBのデータ）がPCから完全に削除され、ストレージが解放されます。

### 注意点

  * **タグの指定:** モデル名だけでなく、`:4b` や `:latest` などの**タグ**（バージョン）まで正確に指定することをお勧めします。タグを省略すると、通常は `:latest` タグのモデルが削除対象となります。
  * **GUIを使っている場合:** Open WebUIなどのブラウザインターフェースを使っている場合でも、モデル管理画面の中に削除ボタンがあることがありますが、コマンドラインで削除するのが最も確実で速い方法です。
